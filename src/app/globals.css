@import "tailwindcss";

/* Design tokens (DC) - RGB triples for alpha-friendly usage */
:root {
  /* Colors (rgb triples so we can use rgb(var(--dc-...)/<alpha>)) */
  --dc-bg: 255 255 255;          /* #FFFFFF - Page background */
  --dc-bg-soft: 247 249 251;     /* #F7F9FB - Subtle sections */
  --dc-surface: 255 255 255;     /* #FFFFFF - Cards, modals */

  /* ↑ bumped to 3:1 vs bg (was 1.47:1) */
  --dc-border: 146 149 153;      /* #929599 - Dividers */

  --dc-text: 17 24 39;           /* #111827 - Body text */
  --dc-text-muted: 75 85 99;     /* #4B5563 - Secondary text */

  /* ↑ darkened to pass 4.5:1 on #FFF and 4.5:1 on #F7F9FB */
  --dc-brand: 0 129 122;         /* #00817A - Links, accents */

  --dc-navy: 41 35 92;           /* #29235C - Headings on light */

  --dc-primary: 0 97 93;         /* #00615D - Primary buttons */
  --dc-on-primary: 255 255 255;  /* #FFFFFF - Text on primary */

  --dc-success: 15 118 110;      /* #0F766E */
  --dc-warning: 180 83 9;        /* #B45309 */
  --dc-error:   185 28 28;       /* #B91C1C */

  /* use brand for focus; new brand now AA on light */
  --dc-focus: 249 188 22;        /* #F9BC16 - High contrast focus yellow */

  /* Helpful aliases */
  --color-brand: #00817A; /* kept for existing bg-[--color-brand] usage */
  --color-indigo-dc: #29235C;
  --font-sans: ui-sans-serif, system-ui, Segoe UI, Roboto, Arial, "Noto Sans";

  /* Legacy mappings */
  --bg-1: rgb(var(--dc-bg));
  --bg-2: rgb(var(--dc-bg-soft));
  --text: rgb(var(--dc-text));
  --muted: rgb(var(--dc-text-muted));
  --card: rgb(var(--dc-surface));
}

/* Reduced motion and accessibility helpers */
.skip-link:focus{position:static!important;display:inline-block;padding:.5rem .75rem;background:#fff;color:#000;border-radius:.5rem}
:where(a,button,input,select,textarea):focus-visible{outline:3px solid rgb(var(--dc-focus));outline-offset:3px;box-shadow:0 0 0 2px rgb(var(--dc-bg));}
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
}

/* Dark theme tokens - toggle by applying .dark to body */
.dark{
  --dc-bg: 14 16 38;             /* #0E1026 */
  --dc-bg-soft: 22 26 47;        /* #161A2F */
  --dc-surface: 22 26 47;        /* #161A2F */

  /* ↑ bumped to 3:1 vs dark bg (was 1.43:1) */
  --dc-border: 93 97 117;        /* #5D6175 */

  --dc-text: 243 244 246;        /* #F3F4F6 */
  --dc-text-muted: 199 203 209;  /* #C7CBD1 */

  --dc-brand: 0 163 155;         /* #00A39B - AA vs dark bg */

  /* ↑ lightened so headings remain AA on dark bg */
  --dc-navy: 124 121 156;        /* #7C799C */

  /* ↑ lightened so the filled button hits 3:1 vs bg, while #FFF text stays ≥4.5:1 */
  --dc-primary: 18 108 104;      /* #126C68 */
  --dc-on-primary: 255 255 255;  /* #FFFFFF */

  --dc-success: 34 197 94;       /* #22C55E */
  --dc-warning: 234 179 8;       /* #EAB308 */
  --dc-error: 239 68 68;         /* #EF4444 */

  --dc-focus: 249 188 22;        /* #F9BC16 */

  /* Legacy mappings */
  --bg-1: rgb(var(--dc-bg));
  --bg-2: rgb(var(--dc-bg-soft));
  --text: rgb(var(--dc-text));
  --muted: rgb(var(--dc-text-muted));
  --card: rgb(var(--dc-surface));
}


/* Fluid typography using clamp() - rem base respects user settings */
html{font-size:100%;-webkit-text-size-adjust:100%}
/* utility classes for fluid text - use per element */
.text-fluid-xs{font-size:clamp(0.75rem, 0.6rem + 0.6vw, 0.875rem);line-height:1.5}
.text-fluid-sm{font-size:clamp(0.875rem, 0.8rem + 0.8vw, 1rem);line-height:1.5}
.text-fluid-md{font-size:clamp(1rem, 1rem + 0.9vw, 1.125rem);line-height:1.5}
.text-fluid-lg{font-size:clamp(1.125rem, 1.05rem + 1.2vw, 1.5rem);line-height:1.4}
.text-fluid-xl{font-size:clamp(1.5rem, 1.2rem + 2.2vw, 2.25rem);line-height:1.2}

/* Tooltip (simple, accessible) */
.dc-tooltip{position:relative}
.dc-tooltip[aria-label]:hover::after,.dc-tooltip[aria-label]:focus::after{content:attr(aria-label);position:absolute;left:50%;transform:translateX(-50%) translateY(-0.5rem);bottom:100%;white-space:nowrap;background:var(--card);color:var(--text);padding:0.35rem 0.5rem;border-radius:0.35rem;font-size:0.875rem;box-shadow:0 4px 12px rgba(0,0,0,0.25)}

/* Hamburger animation */
.hambtn{display:inline-grid;place-items:center}
.hambtn .lines{width:1.5rem;height:1rem;position:relative}
.hambtn .lines span{position:absolute;left:0;right:0;height:2px;background:var(--text);display:block;transition:transform .25s ease,opacity .2s ease,top .25s ease}
.hambtn .lines span:nth-child(1){top:0}
.hambtn .lines span:nth-child(2){top:50%;transform:translateY(-50%)}
.hambtn .lines span:nth-child(3){bottom:0}
.hambtn.open .lines span:nth-child(1){transform:translateY(8px) rotate(45deg)}
.hambtn.open .lines span:nth-child(2){opacity:0}
.hambtn.open .lines span:nth-child(3){transform:translateY(-8px) rotate(-45deg)}

/* Utility to prevent wrapping and allow truncation */
.no-wrap{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Responsive helpers */
.container-min{min-width:0}

/* Design token helpers */
.bg-dc-surface-98{background-color:rgb(var(--dc-surface)/0.98)}
.bg-dc-surface-90{background-color:rgb(var(--dc-surface)/0.9)}
.border-dc{border-color:rgb(var(--dc-border)/0.12)}
.text-dc{color:rgb(var(--dc-text))}
.text-dc-muted{color:rgb(var(--dc-text-muted))}
.hover-dc-soft:hover{background-color:rgb(var(--dc-text)/0.06)}
.ring-dc-focus:focus-visible{outline:none;box-shadow:0 0 0 4px rgb(var(--dc-focus)/0.16)}

/* small utilities for legacy patterns */
.divider-dc{background-color:rgb(var(--dc-border)/0.2)}

.animate-marquee{animation:dc-marquee 40s linear infinite;will-change:transform}
@keyframes dc-marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

@layer components{
  .hy-section{position:relative;color:rgb(var(--dc-text));background-color:rgb(var(--dc-bg-soft));}
  .hy-section--structured{background:rgb(var(--dc-bg-soft));}
  .hy-section--fresh{background:rgb(var(--dc-bg-soft));}
  .hy-section--contrast{background:linear-gradient(145deg,rgb(var(--dc-primary)) 0%,rgb(var(--dc-brand)) 100%);color:rgb(var(--dc-on-primary));}
  .hy-section--contrast :where(h1,h2,h3,h4,h5,h6,p,span){color:inherit;}
  .hy-section--contrast .hy-btn--primary{background:rgb(var(--dc-on-primary));color:rgb(var(--dc-primary));border-color:rgb(var(--dc-on-primary)/0.4);}
  .hy-section--contrast .hy-btn--secondary{background:rgb(var(--dc-on-primary)/0.18);color:rgb(var(--dc-on-primary));border-color:transparent;}
  .hy-section--contrast .hy-btn--ghost{color:rgb(var(--dc-on-primary));border-color:rgb(var(--dc-on-primary)/0.35);}

  .hy-card{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;border-radius:1.5rem;border:1px solid rgb(var(--dc-border)/0.18);background:rgb(var(--dc-surface));box-shadow:0 20px 40px rgb(var(--dc-text)/0.08);transition:transform .25s ease,box-shadow .25s ease,background-color .25s ease;color:rgb(var(--dc-text));}
  .hy-card:hover{transform:translateY(-4px);box-shadow:0 28px 50px rgb(var(--dc-text)/0.12);}
  .hy-card:focus-within{outline:none;box-shadow:0 0 0 4px rgb(var(--dc-focus)/0.22),0 20px 40px rgb(var(--dc-text)/0.12);}
  .hy-card--accent{background:linear-gradient(140deg,rgb(var(--dc-primary)/0.12) 0%,rgb(var(--dc-surface)) 40%,rgb(var(--dc-brand)/0.1) 100%);border-color:rgb(var(--dc-primary)/0.24);}
  .hy-card--contrast{background:linear-gradient(160deg,rgb(var(--dc-primary)) 0%,rgb(var(--dc-brand)) 100%);color:rgb(var(--dc-on-primary));border-color:rgb(var(--dc-on-primary)/0.2);}
  .hy-card--contrast :where(p,a,h1,h2,h3,h4,h5,h6,span){color:inherit;}
  .hy-card--contrast .hy-btn--ghost{color:rgb(var(--dc-on-primary));border-color:rgb(var(--dc-on-primary)/0.35);}
  .hy-card__icon{display:inline-flex;align-items:center;justify-content:center;width:3rem;height:3rem;border-radius:1rem;background:rgb(var(--dc-primary)/0.12);color:rgb(var(--dc-primary));box-shadow:inset 0 0 0 1px rgb(var(--dc-primary)/0.1);}
  .hy-card--contrast .hy-card__icon{background:rgb(var(--dc-on-primary)/0.18);color:rgb(var(--dc-on-primary));box-shadow:inset 0 0 0 1px rgb(var(--dc-on-primary)/0.2);}
  .hy-card__content{display:flex;flex-direction:column;gap:1rem;}

  .hy-btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:999px;font-weight:600;line-height:1.2;padding:.65rem 1.5rem;border:2px solid transparent;text-decoration:none;transition:transform .2s ease,box-shadow .2s ease,background-color .2s ease,color .2s ease;min-height:3rem;white-space:nowrap;}
  .hy-btn--primary{background:rgb(var(--dc-primary));color:rgb(var(--dc-on-primary));border-color:rgb(var(--dc-primary)/0.85);}
  .hy-btn--secondary{background:rgb(var(--dc-text)/0.06);color:rgb(var(--dc-text));border-color:rgb(var(--dc-border));}
  .hy-btn--ghost{background:transparent;color:rgb(var(--dc-primary));border-color:rgb(var(--dc-primary));}
  .hy-btn:hover{transform:translateY(-2px);box-shadow:0 18px 32px rgb(var(--dc-text)/0.18);}
  .hy-btn:active{transform:translateY(0);box-shadow:0 10px 20px rgb(var(--dc-text)/0.22);}
  .hy-btn:focus-visible{outline:3px solid rgb(var(--dc-focus));outline-offset:3px;box-shadow:0 0 0 2px rgb(var(--dc-bg)),0 0 0 6px rgb(var(--dc-focus)/0.85),0 12px 28px rgb(var(--dc-text)/0.16);}
  .hy-btn[disabled],.hy-btn:disabled{pointer-events:none;opacity:.65;box-shadow:none;transform:none;}
  .hy-btn__icon{display:inline-flex;align-items:center;justify-content:center;font-size:1.05em;}
  .hy-btn__label{display:inline-flex;align-items:center;justify-content:center;gap:.35rem;}

  .hy-badge{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .75rem;border-radius:999px;font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;font-weight:600;line-height:1.1;}
  .hy-badge--accent{background:rgb(var(--dc-primary)/0.12);color:rgb(var(--dc-primary));}
  .hy-badge--muted{background:rgb(var(--dc-text)/0.06);color:rgb(var(--dc-text)/0.75);}
  .hy-badge--contrast{background:rgb(var(--dc-on-primary)/0.18);color:rgb(var(--dc-on-primary));}

  .hy-eyebrow{font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;font-weight:600;margin-bottom:.5rem;display:inline-flex;align-items:center;gap:.4rem;}
  .hy-eyebrow--accent{color:rgb(var(--dc-primary));}
  .hy-eyebrow--muted{color:rgb(var(--dc-text)/0.7);}
  .hy-eyebrow--contrast{color:rgb(var(--dc-on-primary));}

  .style-preview-card{display:flex;flex-direction:column;gap:.75rem;border-radius:1.25rem;border:1px solid rgb(var(--dc-border));padding:1rem;background:rgb(var(--dc-surface));box-shadow:0 12px 20px rgb(var(--dc-text)/0.08);}
  .style-preview-card__swatch{position:relative;display:grid;place-content:center;text-align:center;border-radius:1rem;border:2px solid transparent;height:6rem;padding:0 1rem;font-weight:600;letter-spacing:.02em;}
  .style-preview-card__swatch[data-variant='structured'],
  .style-preview-card__swatch[data-variant='fresh']{background:rgb(var(--dc-bg-soft));border-color:rgb(var(--dc-border));color:rgb(var(--dc-text));}
  .style-preview-card__swatch[data-variant='fresh']::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:inset 0 0 0 3px rgb(var(--dc-brand)/0.35);pointer-events:none;}
  .style-preview-card__swatch[data-variant='contrast']{background:linear-gradient(140deg,rgb(var(--dc-primary)) 0%,rgb(var(--dc-brand)) 100%);border-color:rgb(var(--dc-on-primary)/0.5);color:rgb(var(--dc-on-primary));}
}

@media (prefers-reduced-motion: reduce){
  .hy-card,.hy-btn{transition:none!important;transform:none!important;}
}