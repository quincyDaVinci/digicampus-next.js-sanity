@import "tailwindcss";

/* Design tokens (DC) - HSL triples for alpha-friendly usage */
:root {
  /* Colors (hsl triples so we can use hsl(var(--dc-...)/<alpha>)) */
  --dc-bg: 0 0% 100%;            /* #FFFFFF - Page background */
  --dc-bg-soft: 210 40% 98%;     /* #F7F9FB - Subtle sections */
  --dc-surface: 0 0% 100%;       /* #FFFFFF - Cards, modals */

  /* ≥3:1 vs bg for UI boundaries */
  --dc-border: 200 3% 59%;       /* #929599 - Dividers */

  --dc-text: 217 33% 11%;        /* #111827 - Body text */
  --dc-text-muted: 217 19% 34%;  /* #4B5563 - Secondary text */

  /* brand/link color darkened to pass 4.5:1 on #FFF */
  --dc-brand: 176 100% 24%;      /* #00786F - Links, accents */

  --dc-navy: 247 45% 25%;        /* #29235C - Headings on light */

  /* Primary button fill (AA with white text, ≥4.5:1) */
  --dc-primary: 176 100% 24%;    /* #00786F - Primary buttons */
  --dc-on-primary: 0 0% 100%;    /* #FFFFFF - Text on primary */

  /* Semantics (AA on light backgrounds) */
  --dc-success: 174 77% 26%;     /* #0F766E */
  --dc-warning: 30 95% 33%;      /* #B45309 */
  --dc-error: 0 84% 42%;         /* #B91C1C */

  /* Focus ring color (uniform across app) */
  --dc-focus: 45 97% 62%;        /* #FCD34D - Tailwind yellow-300 */

  /* Helpful aliases */
  --color-brand: #00786F;        /* kept for existing bg-[--color-brand] usage */
  --color-indigo-dc: #29235C;
  --font-sans: ui-sans-serif, system-ui, Segoe UI, Roboto, Arial, "Noto Sans";

  /* Legacy mappings */
  --bg-1: hsl(var(--dc-bg));
  --bg-2: hsl(var(--dc-bg-soft));
  --text: hsl(var(--dc-text));
  --muted: hsl(var(--dc-text-muted));
  --card: hsl(var(--dc-surface));
}


/* Dark theme tokens - toggle by applying .dark to body */
.dark{
  --dc-bg: 235 63% 10%;          /* #0E1026 */
  --dc-bg-soft: 228 36% 14%;     /* #161A2F */
  --dc-surface: 228 36% 14%;     /* #161A2F */

  /* ≈3:1 vs dark bg for separators */
  --dc-border: 228 12% 41%;      /* #5D6175 */

  --dc-text: 220 14% 96%;        /* #F3F4F6 */
  --dc-text-muted: 210 14% 80%;  /* #C7CBD1 */

  /* Base brand used directly on dark (AA vs bg) */
  --dc-brand: 176 100% 24%;      /* #00A19A */

  /* Lightened so headings remain AA on dark bg */
  --dc-navy: 245 16% 54%;        /* #7C799C */

  /* Filled button hits ≥3:1 vs bg, white text ≥4.5:1 */
  --dc-primary: 176 71% 25%;     /* #126C68 */
  --dc-on-primary: 0 0% 100%;    /* #FFFFFF */

  --dc-success: 142 71% 28%;     /* #22C55E */
  --dc-warning: 48 96% 26%;      /* #EAB308 */
  --dc-error: 0 72% 47%;         /* #EF4444 */

  /* Keep same focus color in dark mode for consistency */
  --dc-focus: 45 97% 62%;        /* #FCD34D - Tailwind yellow-300 */

  /* Legacy mappings */
  --bg-1: hsl(var(--dc-bg));
  --bg-2: hsl(var(--dc-bg-soft));
  --text: hsl(var(--dc-text));
  --muted: hsl(var(--dc-text-muted));
  --card: hsl(var(--dc-surface));
}

/* ========================================
   Accessibility Utilities
   ======================================== */

/* Screen reader only (visually hidden but accessible) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Allow focus for keyboard navigation */
.sr-only-focusable:focus,
.sr-only-focusable:active {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Ensure focus is always visible for keyboard users */
.focus-visible-always:focus {
  outline: 2px solid hsl(var(--dc-focus));
  outline-offset: 2px;
}

/* Skip link for keyboard navigation */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: hsl(var(--dc-primary));
  color: hsl(var(--dc-on-primary));
  padding: 0.5rem 1rem;
  text-decoration: none;
  border-radius: 0 0 0.5rem 0;
  z-index: 100;
  font-weight: 600;
}

.skip-link:focus {
  top: 0;
  outline: 4px solid hsl(var(--dc-focus));
  outline-offset: 2px;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
}


/* Fluid typography using clamp() - rem base respects user settings */
html{font-size:100%;-webkit-text-size-adjust:100%}
/* utility classes for fluid text - use per element */
.text-fluid-xs{font-size:clamp(0.75rem, 0.6rem + 0.6vw, 0.875rem);line-height:1.5}
.text-fluid-sm{font-size:clamp(0.875rem, 0.8rem + 0.8vw, 1rem);line-height:1.5}
.text-fluid-md{font-size:clamp(1rem, 1rem + 0.9vw, 1.125rem);line-height:1.5}
.text-fluid-lg{font-size:clamp(1.125rem, 1.05rem + 1.2vw, 1.5rem);line-height:1.4}
.text-fluid-xl{font-size:clamp(1.5rem, 1.2rem + 2.2vw, 2.25rem);line-height:1.2}

/* Tooltip (simple, accessible) */
.dc-tooltip{position:relative}
.dc-tooltip[aria-label]:hover::after,.dc-tooltip[aria-label]:focus::after{content:attr(aria-label);position:absolute;left:50%;transform:translateX(-50%) translateY(-0.5rem);bottom:100%;white-space:nowrap;background:var(--card);color:var(--text);padding:0.35rem 0.5rem;border-radius:0.35rem;font-size:0.875rem;box-shadow:0 4px 12px hsl(var(--dc-text)/0.25)}

/* Hamburger animation */
.hambtn{display:inline-grid;place-items:center}
.hambtn .lines{width:1.5rem;height:1rem;position:relative}
.hambtn .lines span{position:absolute;left:0;right:0;height:2px;background:var(--text);display:block;transition:transform .25s ease,opacity .2s ease,top .25s ease}
.hambtn .lines span:nth-child(1){top:0}
.hambtn .lines span:nth-child(2){top:50%;transform:translateY(-50%)}
.hambtn .lines span:nth-child(3){bottom:0}
.hambtn.open .lines span:nth-child(1){transform:translateY(8px) rotate(45deg)}
.hambtn.open .lines span:nth-child(2){opacity:0}
.hambtn.open .lines span:nth-child(3){transform:translateY(-8px) rotate(-45deg)}

/* Utility to prevent wrapping and allow truncation */
.no-wrap{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Responsive helpers */
.container-min{min-width:0}

/* Design token helpers */
.bg-dc-surface-98{background-color:hsl(var(--dc-surface)/0.98)}
.bg-dc-surface-90{background-color:hsl(var(--dc-surface)/0.9)}
.border-dc{border-color:hsl(var(--dc-border)/0.12)}
.text-dc{color:hsl(var(--dc-text))}
.text-dc-muted{color:hsl(var(--dc-text-muted))}
.hover-dc-soft:hover{background-color:hsl(var(--dc-text)/0.06)}
.ring-dc-focus:focus-visible{outline:none;box-shadow:0 0 0 4px hsl(var(--dc-focus))}

/* Keyboard-only focus for select elements */
.select-focus-visible{outline:none}
.select-focus-visible:focus-visible{outline:2px solid hsl(var(--dc-focus));outline-offset:2px}

/* small utilities for legacy patterns */
.divider-dc{background-color:hsl(var(--dc-border)/0.2)}

.animate-marquee{animation:dc-marquee 40s linear infinite;will-change:transform}
@keyframes dc-marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

@layer components{
  .hy-section{position:relative;color:hsl(var(--dc-text));background-color:hsl(var(--dc-surface));}
  .hy-section--structured{background:linear-gradient(180deg,hsl(var(--dc-bg)) 0%,hsl(var(--dc-bg-soft)) 100%);}
  .hy-section--fresh{background:radial-gradient(120% 120% at 10% 10%,hsl(var(--dc-brand)/0.14) 0%,hsl(var(--dc-surface)) 38%,hsl(var(--dc-primary)/0.12) 100%);}
  .hy-section--contrast{background:linear-gradient(145deg,hsl(var(--dc-primary)) 0%,hsl(var(--dc-brand)) 100%);color:hsl(var(--dc-on-primary));}
  .hy-section--contrast :where(h1,h2,h3,h4,h5,h6,p,span){color:inherit;}
  .hy-section--contrast .hy-btn--primary{background:hsl(var(--dc-on-primary));color:hsl(var(--dc-primary));border-color:hsl(var(--dc-on-primary)/0.4);}
  .hy-section--contrast .hy-btn--secondary{background:hsl(var(--dc-on-primary)/0.18);color:hsl(var(--dc-on-primary));border-color:transparent;}
  .hy-section--contrast .hy-btn--ghost{color:hsl(var(--dc-on-primary));border-color:hsl(var(--dc-on-primary)/0.35);}

  .hy-card{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;border-radius:1.5rem;border:1px solid hsl(var(--dc-border)/0.32);background:hsl(var(--dc-surface));box-shadow:0 20px 40px hsl(var(--dc-text)/0.08);transition:transform .25s ease,box-shadow .25s ease,background-color .25s ease;color:hsl(var(--dc-text));}
  .hy-card:hover{transform:translateY(-4px);box-shadow:0 28px 50px hsl(var(--dc-text)/0.12);}
  .hy-card:focus-within{outline:none;box-shadow:0 0 0 4px hsl(var(--dc-focus)),0 20px 40px hsl(var(--dc-text)/0.12);} 
  .hy-card--accent{background:linear-gradient(140deg,hsl(var(--dc-primary)/0.12) 0%,hsl(var(--dc-surface)) 40%,hsl(var(--dc-brand)/0.1) 100%);border-color:hsl(var(--dc-primary)/0.24);}
  .hy-card--contrast{background:linear-gradient(160deg,hsl(var(--dc-primary)) 0%,hsl(var(--dc-brand)) 100%);color:hsl(var(--dc-on-primary));border-color:hsl(var(--dc-on-primary)/0.2);}
  .hy-card--contrast :where(p,a,h1,h2,h3,h4,h5,h6,span){color:inherit;}
  .hy-card--contrast .hy-btn--ghost{color:hsl(var(--dc-on-primary));border-color:hsl(var(--dc-on-primary)/0.35);}
  .hy-card__icon{display:inline-flex;align-items:center;justify-content:center;width:3rem;height:3rem;border-radius:1rem;background:hsl(var(--dc-primary)/0.12);color:hsl(var(--dc-primary));box-shadow:inset 0 0 0 1px hsl(var(--dc-primary)/0.1);}
  .hy-card--contrast .hy-card__icon{background:hsl(var(--dc-on-primary)/0.18);color:hsl(var(--dc-on-primary));box-shadow:inset 0 0 0 1px hsl(var(--dc-on-primary)/0.2);}
  .hy-card__content{display:flex;flex-direction:column;gap:1rem;}

  .hy-btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:999px;font-weight:600;line-height:1.2;padding:.65rem 1.5rem;border:2px solid transparent;text-decoration:none;transition:transform .2s ease,box-shadow .2s ease,background-color .2s ease,color .2s ease;min-height:3rem;white-space:nowrap;}
  .hy-btn--primary{background:hsl(var(--dc-primary));color:hsl(var(--dc-on-primary));border-color:hsl(var(--dc-primary)/0.85);}
  .hy-btn--secondary{background:hsl(var(--dc-text)/0.06);color:hsl(var(--dc-text));border-color:hsl(var(--dc-border)/0.6);}
  .hy-btn--ghost{background:transparent;color:hsl(var(--dc-primary));border-color:hsl(var(--dc-primary)/0.3);}
  .hy-btn:hover{transform:translateY(-2px);box-shadow:0 18px 32px hsl(var(--dc-text)/0.18);}
  .hy-btn:active{transform:translateY(0);box-shadow:0 10px 20px hsl(var(--dc-text)/0.22);}
  .hy-btn:focus-visible{outline:none;box-shadow:0 0 0 4px hsl(var(--dc-focus)),0 14px 30px hsl(var(--dc-text)/0.18);} 
  .hy-btn[disabled],.hy-btn:disabled{pointer-events:none;opacity:.65;box-shadow:none;transform:none;}
  .hy-btn__icon{display:inline-flex;align-items:center;justify-content:center;font-size:1.05em;}
  .hy-btn__label{display:inline-flex;align-items:center;justify-content:center;gap:.35rem;}

  .hy-badge{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .75rem;border-radius:999px;font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;font-weight:600;line-height:1.1;}
  .hy-badge--accent{background:hsl(var(--dc-primary)/0.12);color:hsl(var(--dc-primary));}
  .hy-badge--muted{background:hsl(var(--dc-text)/0.06);color:hsl(var(--dc-text)/0.75);}
  .hy-badge--error{background:hsl(var(--dc-error)/0.12);color:hsl(var(--dc-error));}

  .hy-eyebrow{font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;font-weight:600;margin-bottom:.5rem;display:inline-flex;align-items:center;gap:.4rem;}
  .hy-eyebrow--accent{color:hsl(var(--dc-primary));}
  .hy-eyebrow--muted{color:hsl(var(--dc-text)/0.7);}
  .hy-eyebrow--contrast{color:hsl(var(--dc-on-primary));}
}

@media (prefers-reduced-motion: reduce){
  .hy-card,.hy-btn{transition:none!important;transform:none!important;}
}